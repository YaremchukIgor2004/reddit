{"version":3,"file":"signup.js","sources":["../src/js/signup.js"],"sourcesContent":["// signup.js\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.getElementById('signup-form');\n  const errorBox = document.getElementById('signup-error');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const data = Object.fromEntries(new FormData(form));\n    if (data.password !== data.confirm) {\n      errorBox.textContent = 'Паролі не співпадають.';\n      return;\n    }\n\n    try {\n      const res = await fetch('/api/users', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: data.username,\n          email: data.email,\n          password: data.password\n        })\n      });\n      const user = await res.json();\n      if (!res.ok) throw new Error(user.error || 'Signup failed');\n\n      localStorage.setItem('sessionUser', JSON.stringify(user));\n      window.location.href = './index.html';\n    } catch (err) {\n      errorBox.textContent = err.message;\n    }\n  });\n});\n"],"names":["form","errorBox","e","data","res","user","err"],"mappings":"sEACA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAW,SAAS,eAAe,cAAc,EAEvDD,EAAK,iBAAiB,SAAU,MAAME,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAO,OAAO,YAAY,IAAI,SAASH,CAAI,CAAC,EAClD,GAAIG,EAAK,WAAaA,EAAK,QAAS,CAClCF,EAAS,YAAc,yBACvB,MACD,CAED,GAAI,CACF,MAAMG,EAAM,MAAM,MAAM,aAAc,CACpC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAoB,EAC/C,KAAM,KAAK,UAAU,CACnB,SAAUD,EAAK,SACf,MAAOA,EAAK,MACZ,SAAUA,EAAK,QACzB,CAAS,CACT,CAAO,EACKE,EAAO,MAAMD,EAAI,OACvB,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAMC,EAAK,OAAS,eAAe,EAE1D,aAAa,QAAQ,cAAe,KAAK,UAAUA,CAAI,CAAC,EACxD,OAAO,SAAS,KAAO,cACxB,OAAQC,EAAK,CACZL,EAAS,YAAcK,EAAI,OAC5B,CACL,CAAG,CACH,CAAC"}