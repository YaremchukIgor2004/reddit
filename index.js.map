{"version":3,"file":"index.js","sources":["../src/js/sidebar.js","../src/js/header.js","../src/js/posts.js"],"sourcesContent":["// src/js/sidebar.js\ndocument.addEventListener('DOMContentLoaded', () => {\n  // — NAVIGATION ITEMS (Home, Notifications, My posts, My subreddits) —\n  const navItems = document.querySelectorAll('.sidebar__nav-item');\n  navItems.forEach(item => {\n    const link = item.querySelector('.sidebar__nav-link');\n    link.addEventListener('click', e => {\n      e.preventDefault();\n      const isDropdown = item.classList.contains('sidebar__nav-dropdown');\n\n      // Скидаємо active зі всіх пунктів\n      navItems.forEach(i => i.classList.remove('sidebar__nav-item--active'));\n\n      if (isDropdown) {\n        // Тільки для My subreddits — переключаємо active\n        item.classList.toggle('sidebar__nav-item--active');\n      } else {\n        // Для інших пунктів — ставимо active\n        item.classList.add('sidebar__nav-item--active');\n      }\n    });\n  });\n\n  // — DISPLAY USERNAME IN ASIDE —\n  const userNameSpan = document.querySelector('.sidebar__user-name');\n  const sessionUser = JSON.parse(localStorage.getItem('sessionUser') || 'null');\n  if (sessionUser && sessionUser.username) {\n    userNameSpan.textContent = sessionUser.username;\n  } else {\n    userNameSpan.textContent = 'Guest';\n  }\n\n  // — USER MENU (Sign In / Sign Up / Log Out) —\n  const userBlock = document.querySelector('.sidebar__user');\n  const toggleBtn = userBlock.querySelector('.sidebar__user-toggle');\n  const menu = userBlock.querySelector('.sidebar__user-menu');\n  const logoutBtn = menu.querySelector('.sidebar__user-logout');\n\n  // Якщо користувач не залогінений — ховаємо Log Out\n  if (!sessionUser) {\n    logoutBtn.style.display = 'none';\n  }\n\n  // Логіка Log Out\n  logoutBtn.addEventListener('click', e => {\n    e.preventDefault();\n    localStorage.removeItem('sessionUser');\n    window.location.reload();\n  });\n\n  // Відкриття/закриття меню\n  toggleBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    menu.classList.toggle('visible');\n  });\n\n  // Клік поза меню — ховаємо його\n  document.addEventListener('click', () => {\n    menu.classList.remove('visible');\n  });\n\n  // Клік всередині меню не закриває його\n  menu.addEventListener('click', e => e.stopPropagation());\n});\n","// src/js/header.js\ndocument.addEventListener('DOMContentLoaded', () => {\n  const tabs = document.querySelectorAll('.header__tabs-item');\n\n  tabs.forEach(tab => {\n    const link = tab.querySelector('.header__tabs-link');\n    link.addEventListener('click', e => {\n      e.preventDefault();\n      // знімаємо active з усіх\n      tabs.forEach(t => t.classList.remove('header__tabs-item--active'));\n      // ставимо на обраний\n      tab.classList.add('header__tabs-item--active');\n    });\n  });\n});","// src/js/posts.js\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.querySelectorAll('.post-card').forEach(card => {\n    const upBtn = card.querySelector('.post-card__vote-up');\n    const downBtn = card.querySelector('.post-card__vote-down');\n    const diffEl = card.querySelector('.post-card__vote-diff');\n\n    // Поточний стан голосу: 1 = up, -1 = down, 0 = none\n    let state = 0;\n    // Початкове значення різниці (без плюсика)\n    let diff = parseInt(diffEl.textContent.replace('+', ''), 10) || 0;\n\n    const render = () => {\n      // Оновлюємо число (плюса попереду нема)\n      diffEl.textContent = diff.toString();\n      // Візуально позначаємо активну кнопку\n      upBtn.classList.toggle('active', state === 1);\n      downBtn.classList.toggle('active', state === -1);\n    };\n\n    upBtn.addEventListener('click', () => {\n      // Якщо вже стоїть up, приберемо голос\n      const newState = state === 1 ? 0 : 1;\n      // diff += (newState - oldState)\n      diff += newState - state;\n      state = newState;\n      render();\n    });\n\n    downBtn.addEventListener('click', () => {\n      const newState = state === -1 ? 0 : -1;\n      diff += newState - state;\n      state = newState;\n      render();\n    });\n\n    render();\n  });\n});"],"names":["navItems","item","e","isDropdown","i","userNameSpan","sessionUser","userBlock","toggleBtn","menu","logoutBtn","tabs","tab","card","upBtn","downBtn","diffEl","state","diff","render","newState"],"mappings":"oCACA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMA,EAAW,SAAS,iBAAiB,oBAAoB,EAC/DA,EAAS,QAAQC,GAAQ,CACVA,EAAK,cAAc,oBAAoB,EAC/C,iBAAiB,QAASC,GAAK,CAClCA,EAAE,eAAc,EAChB,MAAMC,EAAaF,EAAK,UAAU,SAAS,uBAAuB,EAGlED,EAAS,QAAQI,GAAKA,EAAE,UAAU,OAAO,2BAA2B,CAAC,EAEjED,EAEFF,EAAK,UAAU,OAAO,2BAA2B,EAGjDA,EAAK,UAAU,IAAI,2BAA2B,CAEtD,CAAK,CACL,CAAG,EAGD,MAAMI,EAAe,SAAS,cAAc,qBAAqB,EAC3DC,EAAc,KAAK,MAAM,aAAa,QAAQ,aAAa,GAAK,MAAM,EACxEA,GAAeA,EAAY,SAC7BD,EAAa,YAAcC,EAAY,SAEvCD,EAAa,YAAc,QAI7B,MAAME,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAYD,EAAU,cAAc,uBAAuB,EAC3DE,EAAOF,EAAU,cAAc,qBAAqB,EACpDG,EAAYD,EAAK,cAAc,uBAAuB,EAGvDH,IACHI,EAAU,MAAM,QAAU,QAI5BA,EAAU,iBAAiB,QAAS,GAAK,CACvC,EAAE,eAAc,EAChB,aAAa,WAAW,aAAa,EACrC,OAAO,SAAS,QACpB,CAAG,EAGDF,EAAU,iBAAiB,QAAS,GAAK,CACvC,EAAE,gBAAe,EACjBC,EAAK,UAAU,OAAO,SAAS,CACnC,CAAG,EAGD,SAAS,iBAAiB,QAAS,IAAM,CACvCA,EAAK,UAAU,OAAO,SAAS,CACnC,CAAG,EAGDA,EAAK,iBAAiB,QAAS,GAAK,EAAE,gBAAe,CAAE,CACzD,CAAC,EC9DD,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAME,EAAO,SAAS,iBAAiB,oBAAoB,EAE3DA,EAAK,QAAQC,GAAO,CACLA,EAAI,cAAc,oBAAoB,EAC9C,iBAAiB,QAASV,GAAK,CAClCA,EAAE,eAAc,EAEhBS,EAAK,QAAQ,GAAK,EAAE,UAAU,OAAO,2BAA2B,CAAC,EAEjEC,EAAI,UAAU,IAAI,2BAA2B,CACnD,CAAK,CACL,CAAG,CACH,CAAC,ECbD,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,SAAS,iBAAiB,YAAY,EAAE,QAAQC,GAAQ,CACtD,MAAMC,EAAQD,EAAK,cAAc,qBAAqB,EAChDE,EAAUF,EAAK,cAAc,uBAAuB,EACpDG,EAASH,EAAK,cAAc,uBAAuB,EAGzD,IAAII,EAAQ,EAERC,EAAO,SAASF,EAAO,YAAY,QAAQ,IAAK,EAAE,EAAG,EAAE,GAAK,EAEhE,MAAMG,EAAS,IAAM,CAEnBH,EAAO,YAAcE,EAAK,WAE1BJ,EAAM,UAAU,OAAO,SAAUG,IAAU,CAAC,EAC5CF,EAAQ,UAAU,OAAO,SAAUE,IAAU,EAAE,CACrD,EAEIH,EAAM,iBAAiB,QAAS,IAAM,CAEpC,MAAMM,EAAWH,IAAU,EAAI,EAAI,EAEnCC,GAAQE,EAAWH,EACnBA,EAAQG,EACRD,GACN,CAAK,EAEDJ,EAAQ,iBAAiB,QAAS,IAAM,CACtC,MAAMK,EAAWH,IAAU,GAAK,EAAI,GACpCC,GAAQE,EAAWH,EACnBA,EAAQG,EACRD,GACN,CAAK,EAEDA,GACJ,CAAG,CACH,CAAC"}